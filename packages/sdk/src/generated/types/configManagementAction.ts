/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  combineCodec,
  getBooleanDecoder,
  getBooleanEncoder,
  getDiscriminatedUnionDecoder,
  getDiscriminatedUnionEncoder,
  getStructDecoder,
  getStructEncoder,
  getU64Decoder,
  getU64Encoder,
  getU8Decoder,
  getU8Encoder,
  getUnitDecoder,
  getUnitEncoder,
  type Codec,
  type Decoder,
  type Encoder,
  type GetDiscriminatedUnionVariant,
  type GetDiscriminatedUnionVariantContent,
} from "@solana/kit";

export type ConfigManagementAction =
  | { __kind: "Pause" }
  | { __kind: "UpdatePauseFlag"; isMintRedeemEnabled: boolean }
  | {
      __kind: "UpdatePeriodLimit";
      index: number;
      durationSeconds: bigint;
      maxMintAmount: bigint;
      maxRedeemAmount: bigint;
    }
  | { __kind: "ResetPeriodLimit"; index: number }
  | { __kind: "SetPegPriceUSD"; pegPriceUsd: bigint };

export type ConfigManagementActionArgs =
  | { __kind: "Pause" }
  | { __kind: "UpdatePauseFlag"; isMintRedeemEnabled: boolean }
  | {
      __kind: "UpdatePeriodLimit";
      index: number;
      durationSeconds: number | bigint;
      maxMintAmount: number | bigint;
      maxRedeemAmount: number | bigint;
    }
  | { __kind: "ResetPeriodLimit"; index: number }
  | { __kind: "SetPegPriceUSD"; pegPriceUsd: number | bigint };

export function getConfigManagementActionEncoder(): Encoder<ConfigManagementActionArgs> {
  return getDiscriminatedUnionEncoder([
    ["Pause", getUnitEncoder()],
    [
      "UpdatePauseFlag",
      getStructEncoder([["isMintRedeemEnabled", getBooleanEncoder()]]),
    ],
    [
      "UpdatePeriodLimit",
      getStructEncoder([
        ["index", getU8Encoder()],
        ["durationSeconds", getU64Encoder()],
        ["maxMintAmount", getU64Encoder()],
        ["maxRedeemAmount", getU64Encoder()],
      ]),
    ],
    ["ResetPeriodLimit", getStructEncoder([["index", getU8Encoder()]])],
    ["SetPegPriceUSD", getStructEncoder([["pegPriceUsd", getU64Encoder()]])],
  ]);
}

export function getConfigManagementActionDecoder(): Decoder<ConfigManagementAction> {
  return getDiscriminatedUnionDecoder([
    ["Pause", getUnitDecoder()],
    [
      "UpdatePauseFlag",
      getStructDecoder([["isMintRedeemEnabled", getBooleanDecoder()]]),
    ],
    [
      "UpdatePeriodLimit",
      getStructDecoder([
        ["index", getU8Decoder()],
        ["durationSeconds", getU64Decoder()],
        ["maxMintAmount", getU64Decoder()],
        ["maxRedeemAmount", getU64Decoder()],
      ]),
    ],
    ["ResetPeriodLimit", getStructDecoder([["index", getU8Decoder()]])],
    ["SetPegPriceUSD", getStructDecoder([["pegPriceUsd", getU64Decoder()]])],
  ]);
}

export function getConfigManagementActionCodec(): Codec<
  ConfigManagementActionArgs,
  ConfigManagementAction
> {
  return combineCodec(
    getConfigManagementActionEncoder(),
    getConfigManagementActionDecoder(),
  );
}

// Data Enum Helpers.
export function configManagementAction(
  kind: "Pause",
): GetDiscriminatedUnionVariant<ConfigManagementActionArgs, "__kind", "Pause">;
export function configManagementAction(
  kind: "UpdatePauseFlag",
  data: GetDiscriminatedUnionVariantContent<
    ConfigManagementActionArgs,
    "__kind",
    "UpdatePauseFlag"
  >,
): GetDiscriminatedUnionVariant<
  ConfigManagementActionArgs,
  "__kind",
  "UpdatePauseFlag"
>;
export function configManagementAction(
  kind: "UpdatePeriodLimit",
  data: GetDiscriminatedUnionVariantContent<
    ConfigManagementActionArgs,
    "__kind",
    "UpdatePeriodLimit"
  >,
): GetDiscriminatedUnionVariant<
  ConfigManagementActionArgs,
  "__kind",
  "UpdatePeriodLimit"
>;
export function configManagementAction(
  kind: "ResetPeriodLimit",
  data: GetDiscriminatedUnionVariantContent<
    ConfigManagementActionArgs,
    "__kind",
    "ResetPeriodLimit"
  >,
): GetDiscriminatedUnionVariant<
  ConfigManagementActionArgs,
  "__kind",
  "ResetPeriodLimit"
>;
export function configManagementAction(
  kind: "SetPegPriceUSD",
  data: GetDiscriminatedUnionVariantContent<
    ConfigManagementActionArgs,
    "__kind",
    "SetPegPriceUSD"
  >,
): GetDiscriminatedUnionVariant<
  ConfigManagementActionArgs,
  "__kind",
  "SetPegPriceUSD"
>;
export function configManagementAction<
  K extends ConfigManagementActionArgs["__kind"],
  Data,
>(kind: K, data?: Data) {
  return Array.isArray(data)
    ? { __kind: kind, fields: data }
    : { __kind: kind, ...(data ?? {}) };
}

export function isConfigManagementAction<
  K extends ConfigManagementAction["__kind"],
>(
  kind: K,
  value: ConfigManagementAction,
): value is ConfigManagementAction & { __kind: K } {
  return value.__kind === kind;
}
